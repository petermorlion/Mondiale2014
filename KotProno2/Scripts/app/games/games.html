<section id="dashboard-view" class="mainbar" data-ng-controller="games as vm">
    <div class="matches-side-panel">
        <div class="game-bettings-save">
            <button type="button" class="btn btn-default" ng-click="vm.save()" ng-disabled="vm.gamesHaveBegun">Opslaan</button>
        </div>
        <div class="side-panel-details">
            <div ng-hide="vm.allTopscorers == null">
                <h4>Alle topscorer-pronostieken</h4>
                <table class="table table-striped">
                    <tr>
                        <th>Gebruiker</th>
                        <th>Topscorer</th>
                    </tr>
                    <tr ng-repeat="topscorer in vm.allTopscorers">
                        <td>{{topscorer.UserName}}</td>
                        <td>{{topscorer.TopScorerName}}</td>
                    </tr>
                </table>
            </div>

            <div ng-hide="vm.matchDetails == null">
                <h4>{{vm.matchDetails.HomeTeamName}} vs {{vm.matchDetails.AwayTeamName}} - {{vm.matchDetails.DateTime | date}}</h4>
                <table class="table table-striped">
                    <tr>
                        <th>Gebruiker</th>
                        <th>{{vm.matchDetails.HomeTeamName}}</th>
                        <th>{{vm.matchDetails.AwayTeamName}}</th>
                    </tr>
                    <tr ng-repeat="betting in vm.matchDetails.Bettings">
                        <td>{{betting.UserName}}</td>
                        <td>{{betting.HomeScore}}</td>
                        <td>{{betting.AwayScore}}</td>
                    </tr>
                </table>
            </div>

        </div>
    </div>

    <div class="bettings-main">
        <h1>{{vm.title}}</h1>

        <form class="form-inline">
            <div class="container-fluid">
                <div class="row text-center">
                    <p>
                        De topscorer wordt <input class="form-control form-inline" ng-model="vm.topscorer.TopScorerName" ng-disabled="vm.topscorer.isReadOnly" />
                        <button type="button"
                                class="btn btn-info other-bettings-icon glyphicon glyphicon-th-list"
                                title="De andere topscorer-pronostieken bekijken"
                                ng-click="vm.showAllTopscorers()"
                                ng-show="vm.topscorer.isReadOnly"></button>
                    </p>
                </div>

                <div class="loading-panel" ng-show="vm.isLoading">
                </div>
                
                <div class="row">
                    <div ng-repeat="gameBettingGroup in vm.gameBettingGroups" class="col-md-12 col-sm-12 col-xs-12 text-center">
                        <h4>{{gameBettingGroup.date | date}}</h4>
                        <div ng-repeat="gameBetting in gameBettingGroup.gameBettings">
                            <div class="f48">
                                <span>{{gameBetting.date.getUTCHours() | numberFixedLen:2}}:{{gameBetting.date.getUTCMinutes() | numberFixedLen:2}}</span>
                                <span class="betting-flag flag {{gameBetting.homeIso}}" title="{{gameBetting.homeDescription}}"></span>
                                <input ng-model="gameBetting.homeBetting" ng-disabled="gameBetting.isReadOnly" class="betting-input form-control form-inline" />
                                <input ng-model="gameBetting.awayBetting" ng-disabled="gameBetting.isReadOnly" class="betting-input form-control form-inline" />
                                <span class="betting-flag flag {{gameBetting.awayIso}}" title="{{gameBetting.awayDescription}}"></span>
                                <button type="button"
                                        class="btn btn-info other-bettings-icon glyphicon glyphicon-th-list"
                                        title="De andere pronostieken bekijken"
                                        ng-click="vm.showOtherBettings(gameBetting.matchId)"
                                        ng-show="gameBetting.isReadOnly"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>