<section id="dashboard-view" class="mainbar" data-ng-controller="games as vm">
    <h1>{{vm.title}}</h1>
    <div class="matches-side-panel">
        <div class="game-bettings-save">
            <button ng-click="vm.save()">Opslaan</button>
        </div>
        <div class="match-details" ng-hide="vm.matchDetails == null">
            {{vm.matchDetails.HomeTeamIsoCode}} vs {{vm.matchDetails.AwayTeamIsoCode}} - {{vm.matchDetails.DateTime}}
            <table class="table table-striped"
                <tr>
                    <th>Gebruiker</th>
                    <th>{{vm.matchDetails.HomeTeamIsoCode}}</th>
                    <th>{{vm.matchDetails.AwayTeamIsoCode}}</th>
                </tr>
                <tr ng-repeat="betting in vm.matchDetails.Bettings">
                    <td>{{betting.UserName}}</td>
                    <td>{{betting.HomeScore}}</td>
                    <td>{{betting.AwayScore}}</td>
                </tr>
            </table>
        </div>
    </div>
    
    <div class="container-fluid">
        <div class="row">
            <div ng-repeat="gameBettingGroup in vm.gameBettingGroups" class="col-md-12 col-sm-12 col-xs-12 text-center">
                <h4>{{gameBettingGroup.date | date}}</h4>
                <div ng-repeat="gameBetting in gameBettingGroup.gameBettings">
                    <div class="f48">
                        <span>{{gameBetting.date | date:'HH:mm'}}</span>
                        <span class="flag {{gameBetting.homeIso}}" title="{{gameBetting.homeDescription}}"></span>
                        <input ng-model="gameBetting.homeBetting" ng-disabled="gameBetting.isReadOnly" />
                        <input ng-model="gameBetting.awayBetting" ng-disabled="gameBetting.isReadOnly" />
                        <span class="flag {{gameBetting.awayIso}}" title="{{gameBetting.awayDescription}}"></span>
                        <i class="other-bettings-icon glyphicon glyphicon-question-sign" 
                           title="De andere pronostieken bekijken"
                           ng-click="vm.showOtherBettings(gameBetting.matchId)"
                           ng-show="gameBetting.isReadOnly"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>